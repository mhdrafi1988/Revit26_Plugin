<Window x:Class="Revit22_Plugin.copv2.Views.CalloutViewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Reference Callout Tool"
        Width="550"
        Height="720"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#FFF7F7F7">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <!-- SHEET FILTER -->
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="14"/>

            <!-- SEARCH -->
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="14"/>

            <!-- SELECTION BUTTONS -->
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="14"/>

            <!-- SECTION LIST -->
            <RowDefinition Height="*"/>
            <RowDefinition Height="14"/>

            <!-- DRAFTING VIEW -->
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="14"/>

            <!-- CALLOUT SIZE -->
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="14"/>

            <!-- INSERT BUTTON -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ===========================================================
             SHEET FILTER
             =========================================================== -->
        <StackPanel Grid.Row="0" Orientation="Vertical">
            <TextBlock Text="Filter by Sheet:"
                       FontWeight="Bold"
                       FontSize="13"
                       Margin="0,0,0,4"/>
            <ComboBox ItemsSource="{Binding Sheets}"
                      SelectedItem="{Binding SelectedSheet}"
                      DisplayMemberPath="SheetNumber"
                      Height="30"
                      Background="White"/>
        </StackPanel>

        <!-- ===========================================================
             SEARCH BOX
             =========================================================== -->
        <StackPanel Grid.Row="2" Orientation="Vertical">
            <TextBlock Text="Search Sections:"
                       FontWeight="Bold"
                       FontSize="13"
                       Margin="0,0,0,4"/>
            <TextBox Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                     Height="30"
                     Background="White"/>
        </StackPanel>

        <!-- ===========================================================
             SELECT BUTTONS
             =========================================================== -->
        <StackPanel Grid.Row="4" Orientation="Horizontal">
            <Button Content="Select All"
                    Width="110"
                    Height="30"
                    Margin="0,0,10,0"
                    Command="{Binding SelectAllCommand}"/>

            <Button Content="Deselect"
                    Width="110"
                    Height="30"
                    Margin="0,0,10,0"
                    Command="{Binding SelectNoneCommand}"/>

            <Button Content="Invert"
                    Width="110"
                    Height="30"
                    Command="{Binding InvertSelectionCommand}"/>
        </StackPanel>

        <!-- ===========================================================
             SECTION LIST
             =========================================================== -->
        <Border Grid.Row="6"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="4"
                Background="White">

            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{Binding FilteredViews}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="#EEE"
                                    BorderThickness="0,0,0,1"
                                    Padding="8">

                                <StackPanel Orientation="Horizontal"
                                            VerticalAlignment="Center">

                                    <CheckBox IsChecked="{Binding IsSelected}"
                                              VerticalAlignment="Center"
                                              Margin="0,0,10,0"/>

                                    <StackPanel>
                                        <TextBlock Text="{Binding SectionName}"
                                                   FontWeight="SemiBold"
                                                   FontSize="13"/>
                                        <TextBlock Text="{Binding DisplayInfo}"
                                                   FontSize="11"
                                                   Foreground="#666"/>
                                    </StackPanel>

                                </StackPanel>

                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- ===========================================================
             DRAFTING VIEW DROPDOWN
             =========================================================== -->
        <StackPanel Grid.Row="8" Orientation="Vertical">
            <TextBlock Text="Select Drafting View:"
                       FontWeight="Bold"
                       FontSize="13"
                       Margin="0,0,0,4"/>

            <ComboBox ItemsSource="{Binding DraftingViews}"
                      SelectedItem="{Binding SelectedDraftingView}"
                      DisplayMemberPath="Name"
                      Height="30"
                      Background="White"/>
        </StackPanel>

        <!-- ===========================================================
             CALLOUT SIZE INPUT
             =========================================================== -->
        <StackPanel Grid.Row="10" Orientation="Vertical">
            <TextBlock Text="Callout Size (mm):"
                       FontWeight="Bold"
                       FontSize="13"
                       Margin="0,0,0,4"/>

            <TextBox Text="{Binding CalloutSize}"
                     Width="160"
                     Height="30"
                     Background="White"/>
        </StackPanel>

        <!-- ===========================================================
             INSERT BUTTON
             =========================================================== -->
        <Button Grid.Row="12"
                Content="Insert Reference Callouts"
                Height="40"
                Background="#0078D7"
                Foreground="White"
                FontWeight="Bold"
                Command="{Binding InsertCommand}"/>
    </Grid>
</Window>
