<Window
    x:Class="Revit22_Plugin.SectionManagerMVVMv4.SectionPlacementWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Place Sections"
    Height="600"
    Width="400"
    WindowStartupLocation="CenterOwner"
    ResizeMode="NoResize">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Search -->
            <RowDefinition Height="*"/>
            <!-- List -->
            <RowDefinition Height="Auto"/>
            <!-- Rows/Cols -->
            <RowDefinition Height="Auto"/>
            <!-- Gaps -->
            <RowDefinition Height="Auto"/>
            <!-- TitleBlock -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
        </Grid.RowDefinitions>

        <!-- 1) Search bar -->
        <StackPanel Grid.Row="0" Margin="0,0,0,8">
            <TextBlock Text="Search Sections:" FontWeight="Bold" Margin="0,0,0,4"/>
            <TextBox
        x:Name="SearchTextBox"
        Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
        ToolTip="Type to filter sections…"/>
        </StackPanel>

        <!-- 2) Filtered List -->
        <ListBox
      x:Name="SectionListBox"
      Grid.Row="1"
      ItemsSource="{Binding SectionsView}"
      DisplayMemberPath="Name"
      SelectionMode="Extended"/>

        <!-- 3) Rows / Columns -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,8,0,8">
            <TextBlock Text="Rows:" VerticalAlignment="Center"/>
            <TextBox
        x:Name="RowsTextBox"
        Width="40"
        Margin="4,0"
        Text="{Binding Rows, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="Columns:" VerticalAlignment="Center" Margin="12,0,0,0"/>
            <TextBox
        x:Name="ColsTextBox"
        Width="40"
        Margin="4,0"
        Text="{Binding Columns, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
        </StackPanel>

        <!-- 4) Gaps -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,0,0,8">
            <TextBlock Text="H Gap (mm):" VerticalAlignment="Center"/>
            <TextBox
        x:Name="HGapTextBox"
        Width="50"
        Margin="4,0"
        Text="{Binding HorizontalGapMM, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="V Gap (mm):" VerticalAlignment="Center" Margin="12,0,0,0"/>
            <TextBox
        x:Name="VGapTextBox"
        Width="50"
        Margin="4,0"
        Text="{Binding VerticalGapMM, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
        </StackPanel>

        <!-- 5) Title-Block -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,0,0,12">
            <TextBlock Text="Title-Block:" VerticalAlignment="Center"/>
            <ComboBox
        x:Name="TitleBlockCombo"
        Width="200"
        Margin="8,0"
        ItemsSource="{Binding TitleBlocks}"
        SelectedItem="{Binding SelectedTitleBlock, Mode=TwoWay}"/>
        </StackPanel>

        <!-- 6) OK / Cancel -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button
        x:Name="OkButton"
        Content="OK"
        Width="80"
        Margin="0,0,8,0"
        IsDefault="True"
        Click="OK_Click"/>
            <Button
        x:Name="CancelButton"
        Content="Cancel"
        Width="80"
        IsCancel="True"
        Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>
