<!--
File: MainWizardWindow.xaml
Namespace: Revit26_Plugin.RoofRidgeLines_V06.Views

Responsibility:
- Wizard shell UI
- Hosts step views
- Displays live log panel
-->

<Window x:Class="Revit26_Plugin.RoofRidgeLines_V06.Views.MainWizardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Roof Ridge Lines Wizard"
        Width="700"
        Height="500"
        WindowStartupLocation="CenterScreen">

    <DockPanel>

        <!-- Bottom Live Log Panel -->
        <Border DockPanel.Dock="Bottom"
                Height="120"
                BorderThickness="1"
                BorderBrush="Gray"
                Padding="6">
            <ListBox ItemsSource="{Binding LogEntries}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock>
                            <Run Text="{Binding Timestamp}" />
                            <Run Text="  " />
                            <Run Text="{Binding Category}" FontWeight="Bold" />
                            <Run Text="  " />
                            <Run Text="{Binding Message}" />
                        </TextBlock>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>

        <!-- Main Content -->
        <Grid>
            <ContentControl Content="{Binding Steps[CurrentStepIndex]}" />
        </Grid>

        <!-- Navigation -->
        <StackPanel DockPanel.Dock="Bottom"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="8">
            <Button Content="Back"
                    Command="{Binding BackCommand}"
                    Margin="4" />
            <Button Content="Next"
                    Command="{Binding NextCommand}"
                    Margin="4" />
            <Button Content="Cancel"
                    Command="{Binding CancelCommand}"
                    Margin="4" />
        </StackPanel>

    </DockPanel>
</Window>
