<Window x:Class="Revit26_Plugin.AutoLiner_V01.Views.AutoLinerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AutoLiner – Roof Flow Lines"
        Height="520"
        Width="520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="#F5F5F5">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Controls -->
            <RowDefinition Height="*"/>
            <!-- Logs -->
            <RowDefinition Height="Auto"/>
            <!-- Run -->
        </Grid.RowDefinitions>

        <!-- ================= HEADER ================= -->
        <Border Grid.Row="0"
                Background="#1E1E1E"
                Padding="10"
                CornerRadius="6">
            <TextBlock Text="AutoLiner – Roof Drain Flow Lines"
                       Foreground="White"
                       FontSize="16"
                       FontWeight="SemiBold"/>
        </Border>

        <!-- ================= CONTROLS ================= -->
        <Border Grid.Row="1"
                Margin="0,10,0,10"
                Background="White"
                Padding="10"
                CornerRadius="6"
                BorderBrush="#DDD"
                BorderThickness="1">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="180"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Line Family -->
                <TextBlock Grid.Row="0"
                           Grid.Column="0"
                           Text="Line Detail Family"
                           VerticalAlignment="Center"
                           Margin="0,0,8,6"/>

                <ComboBox Grid.Row="0"
                          Grid.Column="1"
                          ItemsSource="{Binding LineFamilies}"
                          SelectedItem="{Binding SelectedLineFamily}"
                          DisplayMemberPath="Name"
                          Height="26"
                          Margin="0,0,0,6"/>

                <!-- Min Segment -->
                <TextBlock Grid.Row="1"
                           Grid.Column="0"
                           Text="Min Segment Length (mm)"
                           VerticalAlignment="Center"/>

                <TextBox Grid.Row="1"
                         Grid.Column="1"
                         Text="{Binding MinSegmentLengthMm, UpdateSourceTrigger=PropertyChanged}"
                         Height="26"/>
            </Grid>
        </Border>

        <!-- ================= LOGS ================= -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Top Logs -->
            <Border Grid.Column="0"
                    Margin="0,0,5,0"
                    Background="White"
                    Padding="6"
                    CornerRadius="6"
                    BorderBrush="#DDD"
                    BorderThickness="1">

                <StackPanel>
                    <TextBlock Text="Status"
                               FontWeight="SemiBold"
                               Margin="0,0,0,6"/>

                    <ListBox ItemsSource="{Binding TopLogs}"
                             Background="#FAFAFA"
                             BorderThickness="0"/>
                </StackPanel>
            </Border>

            <!-- Bottom Logs -->
            <Border Grid.Column="1"
                    Margin="5,0,0,0"
                    Background="White"
                    Padding="6"
                    CornerRadius="6"
                    BorderBrush="#DDD"
                    BorderThickness="1">

                <StackPanel>
                    <TextBlock Text="Details"
                               FontWeight="SemiBold"
                               Margin="0,0,0,6"/>

                    <ListBox ItemsSource="{Binding BottomLogs}"
                             Background="#FAFAFA"
                             BorderThickness="0"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- ================= RUN ================= -->
        <Button Grid.Row="3"
                Content="RUN AUTO LINER"
                Command="{Binding RunCommand}"
                Height="38"
                Margin="0,10,0,0"
                Background="#007ACC"
                Foreground="White"
                FontWeight="SemiBold"
                BorderThickness="0"
                Cursor="Hand"/>
    </Grid>
</Window>
